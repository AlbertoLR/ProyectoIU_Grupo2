-- MySQL Script generated by MySQL Workbench
-- 11/19/16 18:55:49
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema moovett
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema moovett
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `moovett` DEFAULT CHARACTER SET utf8 COLLATE utf8_spanish_ci ;
USE `moovett` ;

-- -----------------------------------------------------
-- Table `moovett`.`PROFILE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PROFILE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `PROFILENAME` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`USER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`USER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `PROFILE` VARCHAR(25) NOT NULL,
  `DNI_E` VARCHAR(9) NOT NULL,
  `USERNAME` VARCHAR(25) NOT NULL,
  `NAME` VARCHAR(15) NOT NULL,
  `SURNAME` VARCHAR(40) NOT NULL,
  `FECHA_NAC` DATE NOT NULL,
  `DIRECCION` VARCHAR(50) NOT NULL,
  `COMENTARIO` VARCHAR(500) NULL,
  `NUM_CUENTA` VARCHAR(24) NOT NULL,
  `TIPO_CONTRATO` VARCHAR(20) NOT NULL,
  `EMAIL` VARCHAR(40) NOT NULL,
  `FOTO` VARCHAR(50) NOT NULL,
  `ACTIVO` TINYINT(1) NOT NULL DEFAULT 1,
  `PASSWD` VARCHAR(15) NOT NULL,
  INDEX `ID_PROFILE_idx` (`PROFILE` ASC),
  UNIQUE INDEX `DNI_E_UNIQUE` (`DNI_E` ASC),
  PRIMARY KEY (`ID`),
  CONSTRAINT `PROFILE`
    FOREIGN KEY (`PROFILE`)
    REFERENCES `moovett`.`PROFILE` (`PROFILENAME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COLLATE = utf8_spanish_ci;


-- -----------------------------------------------------
-- Table `moovett`.`CONTROLLER`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`CONTROLLER` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CONTROLLERNAME` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`ACTION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`ACTION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ACTIONNAME` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`CLIENTE` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DNI_C` VARCHAR(9) NOT NULL,
  `NOMBRE_C` VARCHAR(15) NOT NULL,
  `APELLIDOS_C` VARCHAR(40) NOT NULL,
  `FECHA_NAC` DATE NULL,
  `PROFESION` VARCHAR(20) NULL,
  `TELEFONO` INT(11) NULL,
  `DIRECCION` VARCHAR(50) NULL,
  `COMENTARIO` VARCHAR(500) NULL,
  `EMAIL` VARCHAR(30) NULL,
  `ALERTA_FALTA` TINYINT(1) NOT NULL DEFAULT 0,
  `DESEMPLEADO` TINYINT(1) NOT NULL DEFAULT 0,
  `ESTUDIANTE` TINYINT(1) NOT NULL DEFAULT 0,
  `FAMILIAR` TINYINT(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`PARTICULAR_EXTERNO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PARTICULAR_EXTERNO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(20) NOT NULL,
  `APELLIDOS` VARCHAR(30) NOT NULL,
  `TELEFONO` INT(11) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`ESPACIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`ESPACIO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`RESERVA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`RESERVA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_ESPACIO` INT NOT NULL,
  `ID_CLIENTE` INT NOT NULL,
  `PRECIO_ESPACIO` SMALLINT NULL,
  `PRECIO_FISIO` SMALLINT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_ESPACIO_idx` (`ID_ESPACIO` ASC),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  CONSTRAINT `ID_ESPACIO`
    FOREIGN KEY (`ID_ESPACIO`)
    REFERENCES `moovett`.`ESPACIO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`CATEGORIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`CATEGORIA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `TIPO` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`DESCUENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`DESCUENTO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` TEXT NOT NULL,
  `ID_CATEGORIA` INT NOT NULL,
  `CANTIDAD` FLOAT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_CATEGORIA_idx` (`ID_CATEGORIA` ASC),
  CONSTRAINT `ID_CATEGORIA`
    FOREIGN KEY (`ID_CATEGORIA`)
    REFERENCES `moovett`.`CATEGORIA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`INSCRIPCION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`INSCRIPCION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_PART_EXT` INT NULL,
  `ID_EVENTO` INT NULL,
  `ID_ACTIVIDAD` INT NULL,
  `ID_RESERVA` INT NULL,
  `ID_CLIENTE` INT NOT NULL,
  `FECHA` DATE NULL,
  `ID_DESCUENTO` INT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_RESERVA_idx` (`ID_RESERVA` ASC),
  INDEX `ID_DESCUENTO_idx` (`ID_DESCUENTO` ASC),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  INDEX `ID_PART_EXT_idx` (`ID_PART_EXT` ASC),
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_PART_EXT`
    FOREIGN KEY (`ID_PART_EXT`)
    REFERENCES `moovett`.`PARTICULAR_EXTERNO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_RESERVA`
    FOREIGN KEY (`ID_RESERVA`)
    REFERENCES `moovett`.`RESERVA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_DESCUENTO`
    FOREIGN KEY (`ID_DESCUENTO`)
    REFERENCES `moovett`.`DESCUENTO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`DOCUMENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`DOCUMENTO` (
  `ID_USER` INT NULL,
  `ID_CLIENTE` INT NULL,
  `ID_INSCRIPCION` INT NULL,
  `ID` INT NOT NULL AUTO_INCREMENT,
  `TIPO` VARCHAR(50) NOT NULL,
  `DOCUMENTO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_INSCRIPCION_idx` (`ID_INSCRIPCION` ASC),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_INSCRIPCION`
    FOREIGN KEY (`ID_INSCRIPCION`)
    REFERENCES `moovett`.`INSCRIPCION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`LESIONES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`LESIONES` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` TEXT NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`LESION_CLIENTE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`LESION_CLIENTE` (
  `ID_LESION` INT NOT NULL,
  `ID_CLIENTE` INT NOT NULL,
  PRIMARY KEY (`ID_LESION`, `ID_CLIENTE`),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_LESION`
    FOREIGN KEY (`ID_LESION`)
    REFERENCES `moovett`.`LESIONES` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`LESION_EMPLEADO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`LESION_EMPLEADO` (
  `ID_LESION` INT NOT NULL,
  `ID_USER` INT NOT NULL,
  PRIMARY KEY (`ID_LESION`, `ID_USER`),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  CONSTRAINT `ID_LESION`
    FOREIGN KEY (`ID_LESION`)
    REFERENCES `moovett`.`LESIONES` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`EMPLEADO_MIRA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`EMPLEADO_MIRA` (
  `ID_USER` INT NOT NULL,
  `ID_CLIENTE` INT NOT NULL,
  `ID_LESION` INT NOT NULL,
  `FECHA_VISTA` DATE NULL,
  PRIMARY KEY (`ID_USER`, `ID_CLIENTE`, `ID_LESION`),
  INDEX `ID_LESION_idx` (`ID_LESION` ASC),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`LESION_CLIENTE` (`ID_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_LESION`
    FOREIGN KEY (`ID_LESION`)
    REFERENCES `moovett`.`LESION_CLIENTE` (`ID_LESION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`EVENTO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`EVENTO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(10) NOT NULL,
  `ID_ESPACIO` INT NOT NULL,
  `PRECIO` SMALLINT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_ESPACIO_idx` (`ID_ESPACIO` ASC),
  CONSTRAINT `ID_ESPACIO`
    FOREIGN KEY (`ID_ESPACIO`)
    REFERENCES `moovett`.`ESPACIO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`ACTIVIDAD`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`ACTIVIDAD` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `NOMBRE` VARCHAR(10) NOT NULL,
  `ID_ESPACIO` INT NOT NULL,
  `ID_DESCUENTO` INT NULL,
  `CAPACIDAD` SMALLINT NOT NULL,
  `PRECIO` SMALLINT NOT NULL,
  `ID_CATEGORIA` INT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_ESPACIO_idx` (`ID_ESPACIO` ASC),
  INDEX `TIPO_idx` (`ID_CATEGORIA` ASC),
  INDEX `ID_DESCUENTO_idx` (`ID_DESCUENTO` ASC),
  CONSTRAINT `ID_ESPACIO`
    FOREIGN KEY (`ID_ESPACIO`)
    REFERENCES `moovett`.`ESPACIO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_DESCUENTO`
    FOREIGN KEY (`ID_DESCUENTO`)
    REFERENCES `moovett`.`DESCUENTO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CATEGORIA`
    FOREIGN KEY (`ID_CATEGORIA`)
    REFERENCES `moovett`.`CATEGORIA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`HORARIO_TEMPORADA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`HORARIO_TEMPORADA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DIA_INICIO` DATE NOT NULL,
  `DIA_FIN` DATE NOT NULL,
  `NOMBRE_TEMP` VARCHAR(30) NOT NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`RANGO_HORARIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`RANGO_HORARIO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DIA_S` VARCHAR(10) NOT NULL,
  `HORA_APERTURA` TIME NOT NULL,
  `HORA_CIERRE` TIME NOT NULL,
  `ID_TEMPORADA` INT NOT NULL,
  INDEX `ID_TEMPORADA_idx` (`ID_TEMPORADA` ASC),
  PRIMARY KEY (`ID`),
  CONSTRAINT `ID_TEMPORADA`
    FOREIGN KEY (`ID_TEMPORADA`)
    REFERENCES `moovett`.`HORARIO_TEMPORADA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`HORAS_POSIBLES`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`HORAS_POSIBLES` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DIA` DATE NOT NULL,
  `HORA_INICIO` TIME NOT NULL,
  `HORA_FIN` TIME NOT NULL,
  `ID_RANGO` INT NOT NULL,
  INDEX `ID_RANGO_idx` (`ID_RANGO` ASC),
  PRIMARY KEY (`ID`),
  CONSTRAINT `ID_RANGO`
    FOREIGN KEY (`ID_RANGO`)
    REFERENCES `moovett`.`RANGO_HORARIO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`SESION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`SESION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_ESPACIO` INT NOT NULL,
  `ID_EVENTO` INT NULL,
  `ID_ACTIVIDAD` INT NULL,
  `ID_USER` INT NOT NULL,
  `ID_HORAS_POSIB` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_EVENTO_idx` (`ID_EVENTO` ASC),
  INDEX `ID_ACTIVIDAD_idx` (`ID_ACTIVIDAD` ASC),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  INDEX `ID_HORAS_POSIB_idx` (`ID_HORAS_POSIB` ASC),
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_EVENTO`
    FOREIGN KEY (`ID_EVENTO`)
    REFERENCES `moovett`.`EVENTO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_ACTIVIDAD`
    FOREIGN KEY (`ID_ACTIVIDAD`)
    REFERENCES `moovett`.`ACTIVIDAD` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_ESPACIO`
    FOREIGN KEY (`ID_ESPACIO`)
    REFERENCES `moovett`.`ESPACIO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_HORAS_POSIB`
    FOREIGN KEY (`ID_HORAS_POSIB`)
    REFERENCES `moovett`.`HORAS_POSIBLES` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`PAGO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PAGO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `METODO_PAGO` VARCHAR(20) NOT NULL,
  `FECHA` DATE NOT NULL,
  `PERIODICIDAD` VARCHAR(45) NULL,
  `CANTIDAD` SMALLINT NOT NULL,
  `ID_INSCRIPCION` INT NULL,
  `ID_RESERVA` INT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_INSCRIPCION_idx` (`ID_INSCRIPCION` ASC),
  INDEX `ID_RESERVA_idx` (`ID_RESERVA` ASC),
  CONSTRAINT `ID_INSCRIPCION`
    FOREIGN KEY (`ID_INSCRIPCION`)
    REFERENCES `moovett`.`INSCRIPCION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_RESERVA`
    FOREIGN KEY (`ID_RESERVA`)
    REFERENCES `moovett`.`RESERVA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`ASISTENCIA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`ASISTENCIA` (
  `ID_CLIENTE` INT NOT NULL,
  `ID_SESION` INT NOT NULL,
  `ASISTE` TINYINT(1) NULL,
  PRIMARY KEY (`ID_CLIENTE`, `ID_SESION`),
  INDEX `ID_SESION_idx` (`ID_SESION` ASC),
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_SESION`
    FOREIGN KEY (`ID_SESION`)
    REFERENCES `moovett`.`SESION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`ALERTA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`ALERTA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` TEXT NOT NULL,
  `ID_USER` INT NULL,
  `ID_PAGO` INT NULL,
  `ID_CLIENTE` INT NULL,
  `ID_SESION` INT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_PAGO_idx` (`ID_PAGO` ASC),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  INDEX `ID_SESION_idx` (`ID_SESION` ASC),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_PAGO`
    FOREIGN KEY (`ID_PAGO`)
    REFERENCES `moovett`.`PAGO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`ASISTENCIA` (`ID_CLIENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_SESION`
    FOREIGN KEY (`ID_SESION`)
    REFERENCES `moovett`.`ASISTENCIA` (`ID_SESION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`NOTIFICACION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`NOTIFICACION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DESCRIPCION` TEXT NOT NULL,
  `ID_USER` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`RECIBE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`RECIBE` (
  `ID_NOTIFICACION` INT NOT NULL,
  `ID_CLIENTE` INT NOT NULL,
  PRIMARY KEY (`ID_NOTIFICACION`, `ID_CLIENTE`),
  INDEX `ID_CLIENTE_idx` (`ID_CLIENTE` ASC),
  CONSTRAINT `ID_NOTIFICACION`
    FOREIGN KEY (`ID_NOTIFICACION`)
    REFERENCES `moovett`.`NOTIFICACION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CLIENTE`
    FOREIGN KEY (`ID_CLIENTE`)
    REFERENCES `moovett`.`CLIENTE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`PERCIBE`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PERCIBE` (
  `ID_ALERTA` INT NOT NULL,
  `ID_USER` INT NOT NULL,
  PRIMARY KEY (`ID_ALERTA`, `ID_USER`),
  INDEX `ID_USER_idx` (`ID_USER` ASC),
  CONSTRAINT `ID_ALERTA`
    FOREIGN KEY (`ID_ALERTA`)
    REFERENCES `moovett`.`ALERTA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_USER`
    FOREIGN KEY (`ID_USER`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`HORA_FISIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`HORA_FISIO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_RESERVA` INT NOT NULL,
  `DIA_F` DATE NOT NULL,
  `HORA_I` TIME NOT NULL,
  `HORA_F` TIME NOT NULL,
  INDEX `ID_RESERVA_idx` (`ID_RESERVA` ASC),
  PRIMARY KEY (`ID`),
  CONSTRAINT `ID_RESERVA`
    FOREIGN KEY (`ID_RESERVA`)
    REFERENCES `moovett`.`RESERVA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`FACTURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`FACTURA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_PAGO` INT NOT NULL,
  `FECHA` DATE NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_PAGO_idx` (`ID_PAGO` ASC),
  CONSTRAINT `ID_PAGO`
    FOREIGN KEY (`ID_PAGO`)
    REFERENCES `moovett`.`PAGO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`LINEA_FACTURA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`LINEA_FACTURA` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_FACTURA` INT NOT NULL,
  `PRODUCTO` VARCHAR(40) NULL,
  `CANTIDAD` SMALLINT NULL,
  `PRECIO` SMALLINT NULL,
  PRIMARY KEY (`ID`, `ID_FACTURA`),
  INDEX `ID_FACTURA_idx` (`ID_FACTURA` ASC),
  CONSTRAINT `ID_FACTURA`
    FOREIGN KEY (`ID_FACTURA`)
    REFERENCES `moovett`.`FACTURA` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`RECIBO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`RECIBO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `ID_PAGO` INT NOT NULL,
  `PRODUCTO` VARCHAR(40) NOT NULL,
  `PRECIO` SMALLINT NOT NULL,
  `CANTIDAD` SMALLINT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_PAGO_idx` (`ID_PAGO` ASC),
  CONSTRAINT `ID_PAGO`
    FOREIGN KEY (`ID_PAGO`)
    REFERENCES `moovett`.`PAGO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`CAJA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`CAJA` (
  `ID_PAGO` INT NOT NULL,
  `ID` INT NOT NULL AUTO_INCREMENT,
  `EFECTIVO_INICIAL` INT(11) NOT NULL,
  `CANTIDAD` INT(11) NOT NULL,
  `EFECTIVO_FINAL` INT(11) NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_PAGO_idx` (`ID_PAGO` ASC),
  CONSTRAINT `ID_PAGO`
    FOREIGN KEY (`ID_PAGO`)
    REFERENCES `moovett`.`PAGO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`CLIENTE_EXTERNO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`CLIENTE_EXTERNO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `DNI_NIF` VARCHAR(9) NOT NULL,
  `NOMBRE` VARCHAR(80) NOT NULL,
  `APELLIDO` VARCHAR(40) NULL,
  `TELEFONO` INT(11) NULL,
  `EMAIL` VARCHAR(30) NULL,
  PRIMARY KEY (`ID`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`SERVICIO`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`SERVICIO` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `FECHA` DATE NOT NULL,
  `COSTE` INT(11) NOT NULL,
  `ID_PAGO` INT NOT NULL,
  `ID_CLIENTE_EXT` INT NOT NULL,
  `DESCRIPCION` TEXT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ID_PAGO_idx` (`ID_PAGO` ASC),
  INDEX `ID_CLIENTE_EXT_idx` (`ID_CLIENTE_EXT` ASC),
  CONSTRAINT `ID_PAGO`
    FOREIGN KEY (`ID_PAGO`)
    REFERENCES `moovett`.`PAGO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_CLIENTE_EXT`
    FOREIGN KEY (`ID_CLIENTE_EXT`)
    REFERENCES `moovett`.`CLIENTE_EXTERNO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`APLICA`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`APLICA` (
  `ID_DESCUENTO` INT NOT NULL,
  `ID_ACTIVIDAD` INT NOT NULL,
  PRIMARY KEY (`ID_DESCUENTO`, `ID_ACTIVIDAD`),
  INDEX `ID_ACTIVIDAD_idx` (`ID_ACTIVIDAD` ASC),
  CONSTRAINT `ID_DESCUENTO`
    FOREIGN KEY (`ID_DESCUENTO`)
    REFERENCES `moovett`.`DESCUENTO` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ID_ACTIVIDAD`
    FOREIGN KEY (`ID_ACTIVIDAD`)
    REFERENCES `moovett`.`ACTIVIDAD` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`PERMISSION`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PERMISSION` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `CONTROLLER` VARCHAR(25) NOT NULL,
  `ACTION` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `ACTION_idx` (`ACTION` ASC),
  INDEX `CONTROLLER_idx` (`CONTROLLER` ASC),
  CONSTRAINT `CONTROLLER`
    FOREIGN KEY (`CONTROLLER`)
    REFERENCES `moovett`.`CONTROLLER` (`CONTROLLERNAME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `ACTION`
    FOREIGN KEY (`ACTION`)
    REFERENCES `moovett`.`ACTION` (`ACTIONNAME`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`USER_PERMS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`USER_PERMS` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `USERID` INT NOT NULL,
  `PERMISSION` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `USERID_idx` (`USERID` ASC),
  INDEX `PERMISSION_idx` (`PERMISSION` ASC),
  CONSTRAINT `USERID`
    FOREIGN KEY (`USERID`)
    REFERENCES `moovett`.`USER` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `PERMISSION`
    FOREIGN KEY (`PERMISSION`)
    REFERENCES `moovett`.`PERMISSION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `moovett`.`PROFILE_PERMS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `moovett`.`PROFILE_PERMS` (
  `ID` INT NOT NULL AUTO_INCREMENT,
  `PROFILEID` INT NOT NULL,
  `PERMISSION` INT NOT NULL,
  PRIMARY KEY (`ID`),
  INDEX `PROFILEID_idx` (`PROFILEID` ASC),
  INDEX `PERMISION_idx` (`PERMISSION` ASC),
  CONSTRAINT `PROFILEID`
    FOREIGN KEY (`PROFILEID`)
    REFERENCES `moovett`.`PROFILE` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `PERMISION`
    FOREIGN KEY (`PERMISSION`)
    REFERENCES `moovett`.`PERMISSION` (`ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE USER 'moovett' IDENTIFIED BY 'moovett';

GRANT SELECT, INSERT, UPDATE, DELETE ON TABLE `moovett`.* TO 'moovett';

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `moovett`.`PROFILE`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PROFILE` (`ID`, `PROFILENAME`) VALUES (1, 'admin');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`USER`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`USER` (`ID`, `PROFILE`, `DNI_E`, `USERNAME`, `NAME`, `SURNAME`, `FECHA_NAC`, `DIRECCION`, `COMENTARIO`, `NUM_CUENTA`, `TIPO_CONTRATO`, `EMAIL`, `FOTO`, `ACTIVO`, `PASSWD`) VALUES (1, 'admin', '12345678A', 'test', 'Nombre1', 'Apellidos1', '2016-11-15', 'Calle,numero,piso', 'Comentario test', 'ES1212345678912345678912', 'Fijo', 'test@test.com', 'image1.jpg', true, 'abc123');
INSERT INTO `moovett`.`USER` (`ID`, `PROFILE`, `DNI_E`, `USERNAME`, `NAME`, `SURNAME`, `FECHA_NAC`, `DIRECCION`, `COMENTARIO`, `NUM_CUENTA`, `TIPO_CONTRATO`, `EMAIL`, `FOTO`, `ACTIVO`, `PASSWD`) VALUES (2, 'admin', '12345678B', 'user', 'Nombre2', 'Apellidos2', '2016-11-08', 'Calle1,numero1,piso1', 'Comentario user', 'ES1212345678912345678913', 'Temporal', 'user@user.com', 'image2.jpg', true, 'abc123');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`CONTROLLER`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`CONTROLLER` (`ID`, `CONTROLLERNAME`) VALUES (1, 'user');
INSERT INTO `moovett`.`CONTROLLER` (`ID`, `CONTROLLERNAME`) VALUES (2, 'controllador');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`ACTION`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`ACTION` (`ID`, `ACTIONNAME`) VALUES (1, 'show');
INSERT INTO `moovett`.`ACTION` (`ID`, `ACTIONNAME`) VALUES (2, 'borrar');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`CLIENTE`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`CLIENTE` (`ID`, `DNI_C`, `NOMBRE_C`, `APELLIDOS_C`, `FECHA_NAC`, `PROFESION`, `TELEFONO`, `DIRECCION`, `COMENTARIO`, `EMAIL`, `ALERTA_FALTA`, `DESEMPLEADO`, `ESTUDIANTE`, `FAMILIAR`) VALUES (1, '12345678C', 'Nombre3', 'Aellidos3', '1999-11-11', 'Programador', 666666666, 'Calle2,numero2,piso2', 'Es un negado', 'cliente1@gym.com', true, DEFAULT, true, DEFAULT);
INSERT INTO `moovett`.`CLIENTE` (`ID`, `DNI_C`, `NOMBRE_C`, `APELLIDOS_C`, `FECHA_NAC`, `PROFESION`, `TELEFONO`, `DIRECCION`, `COMENTARIO`, `EMAIL`, `ALERTA_FALTA`, `DESEMPLEADO`, `ESTUDIANTE`, `FAMILIAR`) VALUES (2, '13245678D', 'Nombre4', 'Apellidos4', '1999-12-12', 'Ingeniero', 777777777, 'Calle3,numero3,piso3', 'Está calvo', 'cliente2@gym.com', false, DEFAULT, DEFAULT, DEFAULT);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`PARTICULAR_EXTERNO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PARTICULAR_EXTERNO` (`ID`, `NOMBRE`, `APELLIDOS`, `TELEFONO`) VALUES (1, 'NombreExt', 'ApellidosExt', 111222333);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`ESPACIO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`ESPACIO` (`ID`, `NOMBRE`) VALUES (1, 'AULA1');
INSERT INTO `moovett`.`ESPACIO` (`ID`, `NOMBRE`) VALUES (2, 'AULA2');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`RESERVA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`RESERVA` (`ID`, `ID_ESPACIO`, `ID_CLIENTE`, `PRECIO_ESPACIO`, `PRECIO_FISIO`) VALUES (1, 1, 1, 13, NULL);
INSERT INTO `moovett`.`RESERVA` (`ID`, `ID_ESPACIO`, `ID_CLIENTE`, `PRECIO_ESPACIO`, `PRECIO_FISIO`) VALUES (2, DEFAULT, 2, NULL, 25);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`CATEGORIA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`CATEGORIA` (`ID`, `TIPO`) VALUES (1, 'AZUL');
INSERT INTO `moovett`.`CATEGORIA` (`ID`, `TIPO`) VALUES (2, 'ROSA');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`DESCUENTO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`DESCUENTO` (`ID`, `DESCRIPCION`, `ID_CATEGORIA`, `CANTIDAD`) VALUES (1, 'AZUL', 1, 10);
INSERT INTO `moovett`.`DESCUENTO` (`ID`, `DESCRIPCION`, `ID_CATEGORIA`, `CANTIDAD`) VALUES (2, 'ROSA', 2, 20);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`INSCRIPCION`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`INSCRIPCION` (`ID`, `ID_PART_EXT`, `ID_EVENTO`, `ID_ACTIVIDAD`, `ID_RESERVA`, `ID_CLIENTE`, `FECHA`, `ID_DESCUENTO`) VALUES (1, NULL, NULL, 1, , 1, '2016-5-6', NULL);
INSERT INTO `moovett`.`INSCRIPCION` (`ID`, `ID_PART_EXT`, `ID_EVENTO`, `ID_ACTIVIDAD`, `ID_RESERVA`, `ID_CLIENTE`, `FECHA`, `ID_DESCUENTO`) VALUES (2, 1, 1, NULL, NULL, DEFAULT, '2016-4-3', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`DOCUMENTO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`DOCUMENTO` (`ID_USER`, `ID_CLIENTE`, `ID_INSCRIPCION`, `ID`, `TIPO`, `DOCUMENTO`) VALUES (, 1, NULL, 1, 'LESION', 'lesion1.pdf');
INSERT INTO `moovett`.`DOCUMENTO` (`ID_USER`, `ID_CLIENTE`, `ID_INSCRIPCION`, `ID`, `TIPO`, `DOCUMENTO`) VALUES (1, NULL, NULL, 2, 'SEPA', 'sepa1.pdf');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`LESIONES`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`LESIONES` (`ID`, `DESCRIPCION`) VALUES (1, 'Rodilla de golfista');
INSERT INTO `moovett`.`LESIONES` (`ID`, `DESCRIPCION`) VALUES (2, 'Codo de tenista');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`LESION_CLIENTE`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`LESION_CLIENTE` (`ID_LESION`, `ID_CLIENTE`) VALUES (1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`LESION_EMPLEADO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`LESION_EMPLEADO` (`ID_LESION`, `ID_USER`) VALUES (2, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`EMPLEADO_MIRA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`EMPLEADO_MIRA` (`ID_USER`, `ID_CLIENTE`, `ID_LESION`, `FECHA_VISTA`) VALUES (1, 1, 1, '2016-11-4');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`EVENTO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`EVENTO` (`ID`, `NOMBRE`, `ID_ESPACIO`, `PRECIO`) VALUES (1, 'Halloween', 1, 5);
INSERT INTO `moovett`.`EVENTO` (`ID`, `NOMBRE`, `ID_ESPACIO`, `PRECIO`) VALUES (2, 'Magosto', 2, 7);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`ACTIVIDAD`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`ACTIVIDAD` (`ID`, `NOMBRE`, `ID_ESPACIO`, `ID_DESCUENTO`, `CAPACIDAD`, `PRECIO`, `ID_CATEGORIA`) VALUES (1, 'Zumba', 1, 1, 20, 20, 1);
INSERT INTO `moovett`.`ACTIVIDAD` (`ID`, `NOMBRE`, `ID_ESPACIO`, `ID_DESCUENTO`, `CAPACIDAD`, `PRECIO`, `ID_CATEGORIA`) VALUES (2, 'Salsa', 2, 2, 13, 50, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`HORARIO_TEMPORADA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`HORARIO_TEMPORADA` (`ID`, `DIA_INICIO`, `DIA_FIN`, `NOMBRE_TEMP`) VALUES (1, '2016-6-15', '2016-9-15', 'Verano');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`RANGO_HORARIO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`RANGO_HORARIO` (`ID`, `DIA_S`, `HORA_APERTURA`, `HORA_CIERRE`, `ID_TEMPORADA`) VALUES (1, 'Lunes', '9:00', '15:00', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`HORAS_POSIBLES`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`HORAS_POSIBLES` (`ID`, `DIA`, `HORA_INICIO`, `HORA_FIN`, `ID_RANGO`) VALUES (1, 'Lunes', '9:00', '10:00', 1);
INSERT INTO `moovett`.`HORAS_POSIBLES` (`ID`, `DIA`, `HORA_INICIO`, `HORA_FIN`, `ID_RANGO`) VALUES (2, 'Lunes', '10:00', '11:00', 1);
INSERT INTO `moovett`.`HORAS_POSIBLES` (`ID`, `DIA`, `HORA_INICIO`, `HORA_FIN`, `ID_RANGO`) VALUES (3, 'Lunes', '11:00', '12:00', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`SESION`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`SESION` (`ID`, `ID_ESPACIO`, `ID_EVENTO`, `ID_ACTIVIDAD`, `ID_USER`, `ID_HORAS_POSIB`) VALUES (1, 1, NULL, 1, 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`PAGO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PAGO` (`ID`, `METODO_PAGO`, `FECHA`, `PERIODICIDAD`, `CANTIDAD`, `ID_INSCRIPCION`, `ID_RESERVA`) VALUES (1, 'Tarjeta', '2016-3-2', '', 25, , NULL);
INSERT INTO `moovett`.`PAGO` (`ID`, `METODO_PAGO`, `FECHA`, `PERIODICIDAD`, `CANTIDAD`, `ID_INSCRIPCION`, `ID_RESERVA`) VALUES (2, 'Transferencia', '2016-4-9', 'Anual', 100, 1, NULL);
INSERT INTO `moovett`.`PAGO` (`ID`, `METODO_PAGO`, `FECHA`, `PERIODICIDAD`, `CANTIDAD`, `ID_INSCRIPCION`, `ID_RESERVA`) VALUES (3, 'Tarjeta', '2016-2-3', NULL, 300, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`ASISTENCIA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`ASISTENCIA` (`ID_CLIENTE`, `ID_SESION`, `ASISTE`) VALUES (1, 1, True);
INSERT INTO `moovett`.`ASISTENCIA` (`ID_CLIENTE`, `ID_SESION`, `ASISTE`) VALUES (2, 2, true);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`ALERTA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`ALERTA` (`ID`, `DESCRIPCION`, `ID_USER`, `ID_PAGO`, `ID_CLIENTE`, `ID_SESION`) VALUES (1, 'No acude', , , 1, 1);
INSERT INTO `moovett`.`ALERTA` (`ID`, `DESCRIPCION`, `ID_USER`, `ID_PAGO`, `ID_CLIENTE`, `ID_SESION`) VALUES (2, 'No paga', , 1, 1, );

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`NOTIFICACION`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`NOTIFICACION` (`ID`, `DESCRIPCION`, `ID_USER`) VALUES (1, 'Notifiacion1', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`RECIBE`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`RECIBE` (`ID_NOTIFICACION`, `ID_CLIENTE`) VALUES (1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`PERCIBE`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PERCIBE` (`ID_ALERTA`, `ID_USER`) VALUES (1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`HORA_FISIO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`HORA_FISIO` (`ID`, `ID_RESERVA`, `DIA_F`, `HORA_I`, `HORA_F`) VALUES (1, 2, '2016-11-11', '17:00', '18:00');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`FACTURA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`FACTURA` (`ID`, `ID_PAGO`, `FECHA`) VALUES (1, 1, '2016-10-5');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`LINEA_FACTURA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`LINEA_FACTURA` (`ID`, `ID_FACTURA`, `PRODUCTO`, `CANTIDAD`, `PRECIO`) VALUES (1, 1, 'Batido Proteinas', 1, 10);
INSERT INTO `moovett`.`LINEA_FACTURA` (`ID`, `ID_FACTURA`, `PRODUCTO`, `CANTIDAD`, `PRECIO`) VALUES (2, 1, 'Anabolizantes', 2, 30);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`RECIBO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`RECIBO` (`ID`, `ID_PAGO`, `PRODUCTO`, `PRECIO`, `CANTIDAD`) VALUES (1, 2, 'Clase ZUmba Anual', 100, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`CAJA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`CAJA` (`ID_PAGO`, `ID`, `EFECTIVO_INICIAL`, `CANTIDAD`, `EFECTIVO_FINAL`) VALUES (1, 1, 0, 20, 20);
INSERT INTO `moovett`.`CAJA` (`ID_PAGO`, `ID`, `EFECTIVO_INICIAL`, `CANTIDAD`, `EFECTIVO_FINAL`) VALUES (2, 2, 20, -10, 10);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`CLIENTE_EXTERNO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`CLIENTE_EXTERNO` (`ID`, `DNI_NIF`, `NOMBRE`, `APELLIDO`, `TELEFONO`, `EMAIL`) VALUES (1, '12345678F', 'Externo', 'ApellidoExt', 888888888, 'exte@rno.com');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`SERVICIO`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`SERVICIO` (`ID`, `FECHA`, `COSTE`, `ID_PAGO`, `ID_CLIENTE_EXT`, `DESCRIPCION`) VALUES (1, '2016-12-3', 300, 3, 1, 'Boda');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`APLICA`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`APLICA` (`ID_DESCUENTO`, `ID_ACTIVIDAD`) VALUES (1, 1);
INSERT INTO `moovett`.`APLICA` (`ID_DESCUENTO`, `ID_ACTIVIDAD`) VALUES (2, 2);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`PERMISSION`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PERMISSION` (`ID`, `CONTROLLER`, `ACTION`) VALUES (1, 'user', 'show');

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`USER_PERMS`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`USER_PERMS` (`ID`, `USERID`, `PERMISSION`) VALUES (1, 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `moovett`.`PROFILE_PERMS`
-- -----------------------------------------------------
START TRANSACTION;
USE `moovett`;
INSERT INTO `moovett`.`PROFILE_PERMS` (`ID`, `PROFILEID`, `PERMISSION`) VALUES (1, 1, 1);

COMMIT;

